<form action="" method="POST" enctype="multipart/form-data">

    <div class="container m-4 p-2 border border-primary">

        <h1 class="text-center">Registro de Empleado</h1>
        <hr>

        <div class="row align-items-center">
            <div class="col-2">
                <div class="form-group">
                    <label for="DNI">DNI:</label>
                    <input type="Text" class="form-control" name="DNI" placeholder="DNI...." value="{{ empleado.DNI }}">
                </div>
            </div>
            <div class="col-2">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                    Foto
                </button>
            </div>

            <div class="col-3">
                <img src="{{empleado.Foto}}" id="imgTarjeta" alt="..." class="zoomId rounded-circle img-thumbnail"
                    style="width: 5rem;">
            </div>
            <div class="col-5">
                    <div class="form-group">
                        <label for="Foto">Ubicación Foto Empleado:</label>
                        <input type="text" step="any" class="form-control" name="Foto" id="Foto"
                            value="{{empleado.Foto}}" readonly>
                    </div>
                </div>
            
        </div>


        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input type="text" class="form-control" name="Nombre" value="{{ empleado.Nombre }}"
                        placeholder="......">
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="apellido">Apellido:</label>
                    <input type="text" class="form-control" name="Apellido" value="{{ empleado.Apellido }}"
                        placeholder="......">
                </div>
            </div>


        </div>



        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" class="form-control" name="Email" value="{{ empleado.Email }}"
                        placeholder="......">
                </div>
            </div>
        </div>



        <div class="row">
            <div class="col-4">
                <div class="form-group">
                    <label for="direccion">Dirección:</label>
                    <input type="text" class="form-control" name="Direccion" value="{{ empleado.Direccion }}"
                        placeholder="......">
                </div>
            </div>

            <div class="col-4">
                <div class="form-group">
                    <label for="localidad">Localidad:</label>
                    <input type="text" class="form-control" name="Localidad" value="{{ empleado.Localidad }}"
                        placeholder="......">
                </div>
            </div>

            <div class="col-4">
                <div class="form-group">
                    <label for="provincia">Provincia:</label>
                    <input type="text" class="form-control" name="Provincia" value="{{ empleado.Provincia }}"
                        placeholder="......">
                </div>
            </div>
        </div>

        <div class="row align-items-center">
            <div class="col-3">
                <div class="form-group">
                    <label for="cp">Código Postal:</label>
                    <input type="text" class="form-control" name="CP" value="{{ empleado.CP }}" placeholder="......">
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label for="telefono">Teléfono:</label>
                    <input type="text" class="form-control" name="Telefono" value="{{ empleado.Telefono }}"
                        placeholder="......">
                </div>
            </div>
            

            <div class="col-3">


                {{#if  empleado.Activo }}
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="Activo" id="inlineRadio1" checked="checked"
                        value="1">
                    <label class="form-check-label" for="inlineRadio1">Activo</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="Activo" id="inlineRadio2" value="0">
                    <label class="form-check-label" for="inlineRadio2">No Activo</label>
                </div>
                {{else}}
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="Activo" id="inlineRadio1" value="1">
                    <label class="form-check-label" for="inlineRadio1">Activo</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="Activo" id="inlineRadio2" value="0"
                        checked="checked">
                    <label class="form-check-label" for="inlineRadio2">No Activo</label>
                </div>


                {{/if}}
            </div>

            <div class="col-3">
                <div class="form-group border border-success p-2">
                    <label class="text-center" for="exampleFormControlSelect1">Tipo de Usuario</label>
                    <select class="form-control" name="Tipo" id="exampleFormControlSelect1">
                        <option value="{{empleado.Tipo}}" selected="selected">{{empleado.Tipo}}</option>
                        <option value="Usuario_basico">Usuario_basico</option>
                        <option value="Gestor"> Gestor</option>
                        <option value="Administrador"> Administrador</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-3">
                <div class="form-group">
                    <label for="password">Contraseña:</label>
                    <input type="password" class="form-control" name="Password" value="{{empleado.Password}}"
                        placeholder="......">
                </div>
            </div>

            <div class="col-3">
                <div class="form-group">
                    <label for="repassword">Repita la contraseña:</label>
                    <input type="password" class="form-control" name="Repassword" value="{{empleado.Password}}"
                        placeholder="......">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="text-center">
                    <button type="submit" name="operacion" value="Actualizar"
                        class="btn btn-primary btn-lg">Actualizar</button>
                    <button type="reset" class="btn btn-danger btn-lg">Limpiar</button>
                    <a href="/" class="btn btn-success btn-lg" role="button" aria-disabled="true">Cerrar</a>
                </div>
            </div>
        </div>
        {{#if error}}
        <p>{{error}}</p>
        {{/if}}
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Seleccione Fotografía del servidor</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="SFoto"></label>
                        <input type="file" accept="image/*" class="form-control" name="SFoto" id="SFoto"
                            aria-describedby="helpId" placeholder="Imagen 2.." onchange="actualiza()">
                        <small id="helpId" class="form-text text-muted">Seleccione un archivo de imagen para empleado
                        </small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar Ventana</button>
                </div>
            </div>
        </div>
    </div>


</form>

<script>

    function actualiza() {

        // Obtengo el nombre del archivo y lo almaceno en la variable
        // "nombreArchivoEmpleado", se le pasa un array con 0 elementos 
        // porque vamos a subir una única imagen.
        var nombreArchivoEmpleado = document.getElementById("SFoto").files[0].name;

        console.log(nombreArchivoEmpleado);

        Cambio = document.getElementById("imgTarjeta");
        Cambio.setAttribute("src", "/img/imgEmpleados/" + nombreArchivoEmpleado);

        // Cambio.setAttribute("src", nombreArchivoImagen);
        valorAttrSrc = Cambio.getAttribute('src');
        console.log("Valor SCR", valorAttrSrc);

        // cambio el value input Imagen Articulo, con la ruta asignada a la Imagen       
        document.getElementById("Foto").value = valorAttrSrc;


    }

</script>